{"version":3,"sources":["views/HomePage/HomePage.js","services/status.js","services/moviesApi.js","views/NotFoundView/NotFoundView.js","images/not_found.gif","components/Loader/Loader.js","components/Loader/Loader.module.css","views/HomePage/HomePage.module.css"],"names":["HomePage","useState","movies","setMovies","error","setError","Status","IDLE","status","setStatus","useEffect","PENDING","moviesApi","getPopularMovies","then","results","RESOLVED","catch","console","log","REJECTED","className","s","container","Loader","moviesList","map","id","poster_path","title","moviesItem","to","pathname","src","noImageFound","alt","poster","titleBox","a","config","url","axios","data","query","params","cast","defaults","baseURL","api_key","language","api","getMoviesByKeyWord","getMovieById","getCastInfo","getMovieReviews","NotFoundView","Spinner","loaderContainer","type","color","height","width","module","exports"],"mappings":"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","file":"static/js/home-page.eb9b2d20.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loader from '../../components/Loader';\r\nimport Status from '../../services/status';\r\nimport moviesApi from '../../services/moviesApi';\r\nimport ErrorView from '../NotFoundView';\r\nimport s from './HomePage.module.css';\r\nimport noImageFound from '../../images/not_found.gif';\r\n\r\nfunction HomePage() {\r\n  const [movies, setMovies] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING);\r\n    moviesApi\r\n      .getPopularMovies()\r\n      .then(results => {\r\n        setMovies(results);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [error]);\r\n\r\n  return (\r\n    <main className={s.container}>\r\n      \r\n\r\n      {status === Status.PENDING && <Loader />}\r\n\r\n      {status === Status.REJECTED && <ErrorView />}\r\n\r\n      {status === Status.RESOLVED && (\r\n        <>\r\n          <ul className={s.moviesList}>\r\n            {movies.map(({ id, poster_path, title }) => (\r\n              <li key={id} className={s.moviesItem}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `movies/${id}`,\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={\r\n                      poster_path\r\n                        ? `https://image.tmdb.org/t/p/w500/${poster_path}`\r\n                        : noImageFound\r\n                    }\r\n                    alt={title}\r\n                    className={s.poster}\r\n                  />\r\n                </Link>\r\n                <div className={s.titleBox}>\r\n                  <p className={s.title}>{title}</p>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default HomePage;","const Status = {\r\n    IDLE: 'idle',\r\n    PENDING: 'pending',\r\n    RESOLVED: 'resolved',\r\n    REJECTED: 'rejected',\r\n  };\r\n  \r\n  export default Status;","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\nconst API_KEY = '3b0a0f3678b03bfe7113d836939cb420';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  api_key: API_KEY,\r\n  language: 'en-US',\r\n};\r\n\r\nasync function getPopularMovies(){\r\n  try {\r\n    const config = {\r\n      url: `trending/movie/day`,\r\n    };\r\n    const { data } = await axios(config);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getMoviesByKeyWord(query) {\r\n  try {\r\n    const config = {\r\n      url: `search/movie`,\r\n      params: {\r\n        query,\r\n      },\r\n    };\r\n    const { data } = await axios(config, query);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getMovieById(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getCastInfo(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}/credits`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data.cast;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getMovieReviews(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}/reviews`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nconst api = {\r\n  getPopularMovies,\r\n  getMoviesByKeyWord,\r\n  getMovieById,\r\n  getCastInfo,\r\n  getMovieReviews,\r\n};\r\n\r\nexport default api;","export default function NotFoundView() {\r\n    return <h1>404 - page not found </h1>\r\n  }","export default \"data:image/gif;base64,\"","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className={s.loaderContainer}>\r\n      <Loader\r\n        className=\"Loader\"\r\n        type=\"Plane\"\r\n        color=\"#5F5FF6\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__dcXkH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__3Cpd3\",\"mainTitle\":\"HomePage_mainTitle__2RiF1\",\"moviesList\":\"HomePage_moviesList__1xXyx\",\"moviesItem\":\"HomePage_moviesItem__3SaRd\",\"titleBox\":\"HomePage_titleBox__3jCnM\",\"poster\":\"HomePage_poster__10ro6\",\"title\":\"HomePage_title__ZnyG9\"};"],"sourceRoot":""}